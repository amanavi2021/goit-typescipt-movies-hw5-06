{"version":3,"file":"static/js/233.6193a44d.chunk.js","mappings":"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","sources":["pages/Movies/Movies.styled.tsx","pages/Movies/Movies.tsx","services/movies-api.ts","../node_modules/date-fns/esm/_lib/requiredArgs/index.js","../node_modules/date-fns/esm/toDate/index.js","../node_modules/date-fns/esm/getYear/index.js"],"sourcesContent":["import styled from '@emotion/styled';\r\n\r\nexport const SearchForm = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  background-color: #fff;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nexport const SearchFormInput = styled.input`\r\n  display: inline-block;\r\n// width: 100%;\r\n//   font: inherit;\r\n  font-size: 20px;\r\n  border:  2px solid black;\r\n  border-radius: 5px;\r\n  outline: none;\r\n  padding: 3;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n  transition: border-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n\r\n\r\n  &::placeholder {\r\n  font: inherit;\r\n  font-size: 16px;\r\n  }\r\n  &:hover, &:focus {\r\n    border-color: skyblue;\r\n  }\r\n\r\n`;\r\n\r\nexport const SearchFormButton = styled.button`\r\n  display: inline-block;\r\n  width: 65px;\r\n  height: 30px;\r\n  border: 1px solid black;\r\n  border-radius: 5px;\r\n  margin-left: 8px;\r\n  font-size: 15px;\r\n  \r\n  background-size: 40%;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  opacity: 0.6;\r\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  cursor: pointer;\r\n  outline: none;\r\n   \r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n`;","import { useState, useEffect, FC, FormEvent, ChangeEvent} from 'react';\r\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\r\nimport { getYear } from 'date-fns';\r\nimport moviesApiService from '../../services/movies-api';\r\nimport { SearchFormInput, SearchFormButton, SearchForm } from './Movies.styled';\r\nimport { IMovie } from \"../MovieDetails/MovieDetails\";\r\n\r\ntype NewParams = {\r\n  query?: string;\r\n}\r\n\r\nconst Movies: FC = () => {\r\n  const [searchingMovies, setSearchingMovies] = useState<IMovie[]>([]);\r\n  const [error, setError] = useState<string | unknown>('');\r\n  const location = useLocation();\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const query: string = searchParams.get('query') ?? '';\r\n\r\n  const updateQueryString = (event: ChangeEvent<HTMLInputElement>) => {\r\n    const newQuery = event.currentTarget.value.toLowerCase();\r\n    const newParams: NewParams = newQuery !== '' ? { query: newQuery } : {};\r\n    setSearchParams(newParams);\r\n  };\r\n\r\n  const handleSubmit = (event: FormEvent) => {\r\n    event.preventDefault();\r\n\r\n    if (query.trim() === '') {\r\n      return alert('ü¶Ñ Please enter text to search movies');\r\n    }\r\n    setSearchParams({ query: query });\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function getSearchingMovies() {\r\n      try {\r\n        const movies = await moviesApiService.fetchSearchingMovies(query);\r\n        if (movies.results.length !== 0) {\r\n          setSearchingMovies(movies.results);\r\n          setError('');\r\n        } else {\r\n          setError('üôÖ‚Äç‚ôÄÔ∏è Unfortunately there are no such movies');\r\n        }\r\n      } catch (error) {\r\n        setSearchingMovies([]);\r\n        setError(error);\r\n      }\r\n    }\r\n    if (query) {\r\n      getSearchingMovies();\r\n    }\r\n  }, [query]);\r\n\r\n  return (\r\n    <div>\r\n      <SearchForm onSubmit={handleSubmit}>\r\n        <SearchFormInput\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search movie\"\r\n          value={query}\r\n          onChange={updateQueryString}\r\n        />\r\n        <SearchFormButton type=\"submit\">\r\n          <span>Search</span>\r\n        </SearchFormButton>\r\n      </SearchForm>\r\n      {typeof(error) === 'string' && error ? (\r\n        <p>{error}</p>\r\n      ) : (\r\n        <ul>\r\n          {searchingMovies.map(({ id, title, release_date }) => (\r\n            <li key={id}>\r\n              <Link to={`${id}`} state={{ from: location }}>\r\n                {title} ({getYear(new Date(release_date))}) \r\n              </Link>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Movies;\r\n","import axios from \"axios\";\r\n\r\nconst API_KEY = \"0dd8a44a838b85596fd1a072a37c7f7d\";\r\nconst BASE_URL = \"https://api.themoviedb.org/3/\";\r\n\r\n// type SearchParams = {\r\n//     api_key: string;\r\n//     page: number;\r\n// }\r\n\r\nasync function fetchTrandingMovies () {\r\n    const params: any = {\r\n        api_key: API_KEY,\r\n        page: 1\r\n    };\r\n    \r\n    const searchParams: URLSearchParams = new URLSearchParams(params);\r\n\r\nconst url=`${BASE_URL}trending/movie/day?${searchParams}`;\r\n\r\nconst response = await axios.get(url);\r\nconst movies = response.data;\r\nreturn movies;\r\n\r\n};\r\n\r\nasync function fetchSearchingMovies (queryString: string) {\r\n     const params: any = {\r\n        api_key: API_KEY,\r\n        page:1, \r\n        query: queryString\r\n\r\n    };\r\n    \r\n    \r\n    \r\n    const searchParams = new URLSearchParams(params);\r\n    const url: string =`${BASE_URL}search/movie?${searchParams}`;\r\n    const response = await axios.get(url);\r\n    const movies = response.data;\r\n    return movies;\r\n    \r\n    };\r\n\r\nasync function fetchMovie (id: string) {\r\n    const searchParams = new URLSearchParams({\r\n        api_key: API_KEY\r\n\r\n    });\r\n    \r\n    const url=`${BASE_URL}movie/${id}?${searchParams}`;\r\n    const response = await axios.get(url);\r\n    const movie = response.data;\r\n    return movie;\r\n\r\n};\r\n\r\nasync function fetchReviews(id: string) {\r\n    const params: any = {\r\n        api_key: API_KEY,\r\n        page: 1\r\n\r\n    };\r\n\r\n    const searchParams = new URLSearchParams(params);\r\n    const url=`${BASE_URL}movie/${id}/reviews?${searchParams}`;\r\n    const response = await axios.get(url);\r\n    const reviews = response.data;\r\n    return reviews;\r\n\r\n};\r\n\r\nasync function fetchCast (id: string) {\r\n    const searchParams = new URLSearchParams({\r\n        api_key: API_KEY\r\n\r\n    });\r\n\r\n    const url: string=`${BASE_URL}movie/${id}/credits?${searchParams}`;\r\n    const response = await axios.get(url);\r\n    const credits = response.data;\r\n    return credits;\r\n\r\n};\r\n\r\nconst api = {fetchTrandingMovies, fetchSearchingMovies, fetchMovie, fetchReviews, fetchCast};\r\nexport default api;","export default function requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument);\n\n  // Clone the date\n  if (argument instanceof Date || _typeof(argument) === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments\");\n      // eslint-disable-next-line no-console\n      console.warn(new Error().stack);\n    }\n    return new Date(NaN);\n  }\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name getYear\n * @category Year Helpers\n * @summary Get the year of the given date.\n *\n * @description\n * Get the year of the given date.\n *\n * @param {Date|Number} date - the given date\n * @returns {Number} the year\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Which year is 2 July 2014?\n * const result = getYear(new Date(2014, 6, 2))\n * //=> 2014\n */\nexport default function getYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  return toDate(dirtyDate).getFullYear();\n}"],"names":["SearchForm","styled","SearchFormInput","SearchFormButton","useState","searchingMovies","setSearchingMovies","error","setError","location","useLocation","useSearchParams","searchParams","setSearchParams","query","get","useEffect","moviesApiService","movies","results","length","getSearchingMovies","onSubmit","event","preventDefault","trim","alert","type","autoComplete","autoFocus","placeholder","value","onChange","newQuery","currentTarget","toLowerCase","map","id","title","release_date","to","state","from","getYear","Date","API_KEY","BASE_URL","fetchTrandingMovies","URLSearchParams","api_key","page","url","axios","response","data","fetchSearchingMovies","queryString","fetchMovie","movie","fetchReviews","reviews","fetchCast","credits","api","requiredArgs","required","args","TypeError","toDate","argument","arguments","argStr","Object","prototype","toString","call","_typeof","getTime","console","warn","Error","stack","NaN","dirtyDate","getFullYear"],"sourceRoot":""}