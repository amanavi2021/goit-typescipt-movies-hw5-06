"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[233],{233:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var r,a,o,c=t(861),i=t(439),s=t(687),u=t.n(s),p=t(791),f=t(689),l=t(87),d=t(485),h=t(231),m=t(168),b=t(686),g=b.Z.form(r||(r=(0,m.Z)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n  margin-bottom: 20px;\n"]))),v=b.Z.input(a||(a=(0,m.Z)(["\n  display: inline-block;\n// width: 100%;\n//   font: inherit;\n  font-size: 20px;\n  border:  2px solid black;\n  border-radius: 5px;\n  outline: none;\n  padding: 3;\n  padding-left: 4px;\n  padding-right: 4px;\n  transition: border-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n\n  &::placeholder {\n  font: inherit;\n  font-size: 16px;\n  }\n  &:hover, &:focus {\n    border-color: skyblue;\n  }\n\n"]))),x=b.Z.button(o||(o=(0,m.Z)(["\n  display: inline-block;\n  width: 65px;\n  height: 30px;\n  border: 1px solid black;\n  border-radius: 5px;\n  margin-left: 8px;\n  font-size: 15px;\n  \n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n   \n  &:hover {\n    opacity: 1;\n  }\n"]))),w=t(184),y=function(){var e,n=(0,p.useState)([]),t=(0,i.Z)(n,2),r=t[0],a=t[1],o=(0,p.useState)(""),s=(0,i.Z)(o,2),m=s[0],b=s[1],y=(0,f.TH)(),k=(0,l.lr)(),Z=(0,i.Z)(k,2),S=Z[0],j=Z[1],_=null!==(e=S.get("query"))&&void 0!==e?e:"";return(0,p.useEffect)((function(){function e(){return(e=(0,c.Z)(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.Z.fetchSearchingMovies(_);case 3:0!==(n=e.sent).results.length?(a(n.results),b("")):b("\ud83d\ude45\u200d\u2640\ufe0f Unfortunately there are no such movies"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a([]),b(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}_&&function(){e.apply(this,arguments)}()}),[_]),(0,w.jsxs)("div",{children:[(0,w.jsxs)(g,{onSubmit:function(e){if(e.preventDefault(),""===_.trim())return alert("\ud83e\udd84 Please enter text to search movies");j({query:_})},children:[(0,w.jsx)(v,{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movie",value:_,onChange:function(e){var n=e.currentTarget.value.toLowerCase();j(""!==n?{query:n}:{})}}),(0,w.jsx)(x,{type:"submit",children:(0,w.jsx)("span",{children:"Search"})})]}),"string"===typeof m&&m?(0,w.jsx)("p",{children:m}):(0,w.jsx)("ul",{children:r.map((function(e){var n=e.id,t=e.title,r=e.release_date;return(0,w.jsx)("li",{children:(0,w.jsxs)(l.rU,{to:"".concat(n),state:{from:y},children:[t," (",(0,d.Z)(new Date(r)),")"]})},n)}))})]})}},231:function(e,n,t){var r=t(861),a=t(687),o=t.n(a),c=t(243),i="0dd8a44a838b85596fd1a072a37c7f7d",s="https://api.themoviedb.org/3/";function u(){return(u=(0,r.Z)(o().mark((function e(){var n,t,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URLSearchParams({api_key:i,page:1}),t="".concat(s,"trending/movie/day?").concat(n),e.next=5,c.Z.get(t);case 5:return r=e.sent,a=r.data,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=(0,r.Z)(o().mark((function e(n){var t,r,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams({api_key:i,page:1,query:n}),r="".concat(s,"search/movie?").concat(t),e.next=5,c.Z.get(r);case 5:return a=e.sent,u=a.data,e.abrupt("return",u);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=(0,r.Z)(o().mark((function e(n){var t,r,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams({api_key:i}),r="".concat(s,"movie/").concat(n,"?").concat(t),e.next=4,c.Z.get(r);case 4:return a=e.sent,u=a.data,e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=(0,r.Z)(o().mark((function e(n){var t,r,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams({api_key:i,page:1}),r="".concat(s,"movie/").concat(n,"/reviews?").concat(t),e.next=5,c.Z.get(r);case 5:return a=e.sent,u=a.data,e.abrupt("return",u);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=(0,r.Z)(o().mark((function e(n){var t,r,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams({api_key:i}),r="".concat(s,"movie/").concat(n,"/credits?").concat(t),e.next=4,c.Z.get(r);case 4:return a=e.sent,u=a.data,e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h={fetchTrandingMovies:function(){return u.apply(this,arguments)},fetchSearchingMovies:function(e){return p.apply(this,arguments)},fetchMovie:function(e){return f.apply(this,arguments)},fetchReviews:function(e){return l.apply(this,arguments)},fetchCast:function(e){return d.apply(this,arguments)}};n.Z=h},485:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(2);function a(e,n){if(n.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+n.length+" present")}function o(e){a(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,r.Z)(e)&&"[object Date]"===n?new Date(e.getTime()):"number"===typeof e||"[object Number]"===n?new Date(e):("string"!==typeof e&&"[object String]"!==n||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function c(e){return a(1,arguments),o(e).getFullYear()}}}]);
//# sourceMappingURL=233.6193a44d.chunk.js.map